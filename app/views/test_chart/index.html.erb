<html>
  <head>
    <title>Results</title>
    <link type="text/css" rel="stylesheet" href="ex.css?3.2"/>
    <script type="text/javascript" src="../protovis-r3.2.js"></script>
    <style type="text/css">
      #fig {
        width: 400px;
        height: 450px;
      }
      #title {
        font: 16px baskerville;
        text-transform: uppercase;
      }
      #caption {
        position: absolute;
        font: oblique 12px baskerville;
        top: 300px;
        left: 25px;
        width: 320px;
      }
      #caption p {
        margin: 0;
        text-indent: 12px;
      }
    </style>
  </head>
  <body><div id="center"><div id="fig">
    <center id="title">
      Personality Results
    </center>
    <script type="text/javascript+protovis">

      /* Compute maximum. */
     // crimea.forEach(function(d) d.max = Math.max(350, d.wounds, d.other, d.disease));

      var results = <%= @results%>; 

      /* Scales for radius, angle, and fill. */
      var radius = pv.Scale.linear(0, 1).range(0, 275),
          angle = pv.Scale.linear(0, 10).range(0, 2*Math.Pi),
         // fill = pv.colors("lightpink","pink", "lightorange","orange", "yellow", "green" , "lightblue", "blue", "lightviolet","violet").domain(causes);

      var vis = new pv.Panel()
          .width(400)
          .height(450);

      /* Add a panel per month, and sort causes by that month's deaths. */
      var wedge = panel.add(pv.Panel)
          .data(results)
          .angle(Math.PI / 6)
          .outerRadius(function(c, d) radius(d[c]))
          .fillStyle(fill)
          .lineWidth(1);

      /* Add a label using the pre-computed maximum value. */
      /*wedge.add(pv.Wedge)
          .data(["max"])
          .fillStyle(null)
          .strokeStyle(null)
        .anchor("outer").add(pv.Label)
          .text(function(c, d) format(d.date))
          .textAlign("center")
          .textBaseline("bottom")
          .textAngle(function() this.anchorTarget().midAngle() + Math.PI / 2);
      */
      vis.render();

    </script>
  </div></div></body>
</html>
